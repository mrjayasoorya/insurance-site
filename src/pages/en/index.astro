---
// src/pages/en/index.astro

import DesktopHero from "../../components/DesktopHero.astro";
import DesktopCoreServices from "../../components/DesktopCoreServices.astro";

import MobileHero from "../../components/MobileHero.astro";
import MobileCoreServices from "../../components/MobileCoreServices.astro";
import MobileAccordion from "../../components/MobileAccordion.astro";

import FooterCtaBar from "../../components/FooterCtaBar.astro";
import BlogSection from "../../components/BlogSection.astro";
import CoverageIndexSection from "../../components/CoverageIndexSection.astro";
import LinksHubSection from "../../components/LinksHubSection.astro";
import LocalIdentitySection from "../../components/LocalIdentitySection.astro";

import { siteData, EN } from "../../content/siteData";

import FloatingContactCta from "src/components/FloatingContactCta.astro";
import FloatingMenu from "src/components/FloatingMenu.astro";
import BacklinksRow from "../../components/BacklinksRow.astro";
import GooglePostsPhotosSection from "../../components/GooglePostsPhotosSection.astro";
import NearMeTrustSection from "src/components/NearMeTrustSection.astro";
import { buildJsonLd, buildMeta, canonicalFromPath, geoMetaFromBrand } from "src/lib/seo";
import QuickHelpLinks from "src/components/QuickHelpLinks.astro";
import ConversionBlock from "src/components/ConversionBlock.astro";
import AssistPopup from "src/components/AssistPopup.astro";

// -----------------------------
// BLOG DATA NORMALIZATION
// -----------------------------
const commercialAuthorityPosts = {
  ...siteData.commercialAuthorityPosts,
  viewAllHref: EN(siteData.commercialAuthorityPosts?.viewAllHref || "/commercial-authority/"),
  viewMoreHref: EN(siteData.commercialAuthorityPosts?.viewMoreHref || "/commercial-authority/"),
  categories: (siteData.commercialAuthorityPosts?.categories || []).map((c) => ({
    ...c,
    items: (c.items || []).map((it) => ({ ...it, href: EN(it.href) })),
  })),
};

const proofExperiencePosts = {
  ...siteData.proofExperiencePosts,
  viewAllHref: EN(siteData.proofExperiencePosts?.viewAllHref || "/proof-experience/"),
  viewMoreHref: EN(siteData.proofExperiencePosts?.viewMoreHref || "/proof-experience/"),
  items: (siteData.proofExperiencePosts?.items || []).map((it) => ({ ...it, href: EN(it.href) })),
};

const renewalLicPosts = {
  ...siteData.renewalLicPosts,
  viewAllHref: EN(siteData.renewalLicPosts?.viewAllHref || "/renewals/"),
  viewMoreHref: EN(siteData.renewalLicPosts?.viewMoreHref || "/renewals/"),
  items: (siteData.renewalLicPosts?.items || []).map((it) => ({ ...it, href: EN(it.href) })),
};

const insights = {
  ...siteData.insights,
  viewAllHref: EN(siteData.insights?.viewAllHref || "/insights/"),
  viewMoreHref: EN(siteData.insights?.viewMoreHref || "/insights/"),
  items: (siteData.insights?.items || []).map((it) => ({ ...it, href: EN(it.href) })),
};

// -----------------------------
// SERVICES (SYNCED)
// -----------------------------
const serviceCategoryCards = (siteData.serviceCategories || []).map((c) => ({
  tag: "Category",
  title: c.title,
  desc: c.desc,
  href: c.href,
}));

const popularServices = (siteData.servicePopular || []).map((x) => ({ ...x, href: x.href }));

// -----------------------------
// LOCATIONS (SYNCED)
// -----------------------------
const allLocations = siteData.locationsIndex?.groups?.flatMap((g) => g.locations || []) || [];
const featuredLocations = allLocations.slice(0, 16);

// -----------------------------
// EARLY “AREA × SERVICE” CLUSTERS (high-weight links)
// Keep this small (8–10 cards). It’s not a directory.
// -----------------------------
const areaServiceCombos = [
  {
    title: "Fleet / Lorry insurance near Red Hills",
    desc:
      "NH-facing transport belt: permit/fitness discipline, third-party exposure and claim-ready documentation.",
    primary: { label: "Red Hills local guide", href: EN("/locations/red-hills/") },
    secondary: [
      { label: "Transport & Fleet services", href: EN("/services/transport-fleet/") },
      { label: "Lorry / Heavy vehicle", href: EN("/services/transport-fleet/lorry-insurance/") },
    ],
  },
  {
    title: "Commercial vehicle support near Madhavaram Truck Terminal",
    desc:
      "Transport-heavy zone: renewal checks, document checklist and practical claim steps for operators.",
    primary: { label: "Truck Terminal local guide", href: EN("/locations/madhavaram-truck-terminal/") },
    secondary: [
      { label: "Commercial vehicle insurance", href: EN("/services/transport-fleet/commercial-vehicle-insurance/") },
      { label: "Fleet insurance", href: EN("/services/transport-fleet/fleet-insurance/") },
    ],
  },
  {
    title: "Warehouse / godown insurance around Red Hills belt",
    desc:
      "Proof-driven risks: valuation clarity, stock records/invoices and burglary/fire conditions (as applicable).",
    primary: { label: "Red Hills local guide", href: EN("/locations/red-hills/") },
    secondary: [
      { label: "Warehouse insurance", href: EN("/services/industrial/warehouse-insurance/") },
      { label: "Fire & burglary", href: EN("/services/industrial/fire-burglary-insurance/") },
    ],
  },
  {
    title: "Contractor CAR/WC guidance in industrial corridors",
    desc:
      "Worksite claims fail on classification/timelines. We keep documentation and reporting steps clean.",
    primary: { label: "Poonamallee bypass belt", href: EN("/locations/poonamallee-bypass/") },
    secondary: [
      { label: "Contractor CAR/WC combined", href: EN("/services/construction/contractor-car-wc-insurance/") },
      { label: "Workmen compensation (WC)", href: EN("/services/construction/workmen-compensation/") },
    ],
  },
  {
    title: "Industrial / factory insurance near SIPCOT belts",
    desc:
      "Higher-value risks: valuation basis, safety conditions and proof trail discipline (as applicable).",
    primary: { label: "Sriperumbudur SIPCOT guide", href: EN("/locations/sriperumbudur-sipcot/") },
    secondary: [
      { label: "Factory insurance", href: EN("/services/industrial/factory-insurance/") },
      { label: "Stock declaration", href: EN("/services/industrial/stock-declaration-insurance/") },
    ],
  },
  {
    title: "Manali belt: transit + industrial documentation clarity",
    desc:
      "Industrial influence areas: transport movement, transit proof trail and claim-ready reporting steps.",
    primary: { label: "Manali local guide", href: EN("/locations/manali/") },
    secondary: [
      { label: "Marine cargo / goods-in-transit", href: EN("/services/marine/marine-cargo-goods-in-transit-insurance/") },
      { label: "Claims support", href: EN("/services/claims-support/") },
    ],
  },
  {
    title: "Car / bike renewals across Chennai city-side areas",
    desc:
      "Renewals are where costly assumptions happen: IDV/NCB/add-ons and clean claim steps.",
    primary: { label: "Insurance renewal near me", href: EN("/insurance-renewal-near-me/") },
    secondary: [
      { label: "Car insurance support", href: EN("/services/personal/car-insurance-support/") },
      { label: "Bike insurance support", href: EN("/services/personal/bike-insurance-support/") },
    ],
  },
  {
    title: "Claim help (documents + timeline) — start here",
    desc:
      "Late reporting and missing proof cause delays. We guide next steps and required documents (case-dependent).",
    primary: { label: "Insurance claim help", href: EN("/insurance-claim-help/") },
    secondary: [
      { label: "Claims support service", href: EN("/services/claims-support/") },
      { label: "FAQs (claims & docs)", href: EN("/faqs/") },
    ],
  },
];

// -----------------------------
// Small FAQ for on-page accordion (tight)
// -----------------------------
const smallHomeFaq = [
  {
    q: "Do you support customers only in Sholavaram?",
    a:
      "Sholavaram is our primary base. We commonly support Chennai North and corridor-connected areas depending on the policy type and insurer requirements.",
  },
  {
    q: "Can you help with insurance renewals and policy checks?",
    a:
      "Yes. We assist with renewal checks, add-on clarity and documentation discipline to reduce avoidable claim issues later.",
  },
  {
    q: "Do you promise claim approval?",
    a:
      "No. Claim outcomes depend on policy terms, disclosures and insurer processes. We guide correct steps and documents to reduce avoidable delays.",
  },
];

// src/pages/en/index.astro
// ✅ Add this block near your other consts (after popularServices/featuredLocations is fine)

const waNumber = (siteData.brand.whatsappE164 || "").replace("+", "");
const wa = (text) => `https://wa.me/${waNumber}?text=${encodeURIComponent(text)}`;

// Put your 6 images inside /public/images/home-banners/ (recommended)
// Example filenames below — rename to match what you upload.
const promoBanners = [
  {
    key: "car",
    title: "Car insurance",
    img: "/assets/home-banners/car-insurance-whatsapp-sholavaram-chennai.png",
    alt: "Car insurance guidance in Chennai and Chennai outskirts",
    href: wa("Hi, I need Car Insurance guidance (Chennai & Chennai outskirts). Please help."),
  },
  {
    key: "lorry",
    title: "Lorry insurance",
    img: "/assets/home-banners/lorry-insurance-nh-belt-red-hills.png",
    alt: "Lorry insurance guidance in Chennai and Chennai outskirts",
    href: wa("Hi, I need Lorry Insurance guidance (Chennai & Chennai outskirts). Please help."),
  },
  {
    key: "fleet",
    title: "Fleet / transport operators",
    img: "/assets/home-banners/fleet-insurance-transport-operators-chennai-north.png",
    alt: "Fleet insurance guidance for transport operators in Chennai and outskirts",
    href: wa("Hi, I need Fleet/Transport Operators insurance guidance (Chennai & Chennai outskirts). Please help."),
  },
  {
    key: "warehouse",
    title: "Warehouse & factory",
    img: "/assets/home-banners/warehouse-factory-insurance-madhavaram-industrial.png",
    alt: "Warehouse and factory insurance guidance in Chennai and outskirts",
    href: wa("Hi, I need Warehouse/Factory insurance guidance (Chennai & Chennai outskirts). Please help."),
  },
  {
    key: "crane",
    title: "Crane / contractor",
    img: "/assets/home-banners/crane-contractor-insurance-nh-corridor.png",
    alt: "Crane and contractor insurance guidance in Chennai and outskirts",
    href: wa("Hi, I need Crane/Contractor insurance guidance (Chennai & Chennai outskirts). Please help."),
  },
  {
    key: "sme",
    title: "Shop / SME",
    img: "/assets/home-banners/shop-sme-insurance-chennai-north.png",
    alt: "Shop and SME insurance guidance in Chennai and outskirts",
    href: wa("Hi, I need Shop/SME insurance guidance (Chennai & Chennai outskirts). Please help."),
  },
];


// Build meta + canonical (consistent trailing slash)
const canonical = canonicalFromPath(siteData.brand.websiteUrl, "/en/");
const meta = buildMeta({
  title: `${siteData.pageFlow.heroH1} | ${siteData.brand.name}`,
  description: siteData.brand.subtitle,
  canonical,
  geo: geoMetaFromBrand(siteData),
});

// Home JSON-LD FAQ picks (small)
const homeFaqPicks = [
  { group: "claimsDocs", index: 0 },
  { group: "claimsDocs", index: 1 },
  { group: "claimsDocs", index: 2 },
  { group: "locationsOffice", index: 0 },
  { group: "locationsOffice", index: 3 },
  { group: "experienceTrust", index: 0 },
];

const homeFaqItems = (homeFaqPicks || [])
  .map(({ group, index }) => siteData.faqsPage?.[group]?.items?.[index])
  .filter(Boolean)
  .slice(0, 6);

const jsonLd = buildJsonLd({
  pageType: "home",
  siteData,
  canonical,
  title: meta.title,
  description: meta.description,
  faqs: homeFaqItems || [],
});
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>{meta.title}</title>
    <meta name="description" content={meta.description} />
    <link rel="canonical" href={meta.canonical} />
    <link rel="icon" type="image/png" href="/assets/logo/MNRajendraKumar_Insurance_services_logo_48x48px_white_bg_icon.png"/>
    <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />
    <meta name="googlebot" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />

    {Object.entries(meta.tags).map(([k, v]) => <meta property={k} content={v} />)}
    {Object.entries(meta.nameTags || {}).map(([k, v]) => <meta name={k} content={v} />)}

    <meta name="theme-color" content="#ffffff" />
    <link rel="stylesheet" href="/styles/theme.css" />

    <script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />
  </head>

  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <main id="main" class="app">
      <div class="container">

        <!-- ========================= DESKTOP ========================= -->
        <div class="ui-desktop">
          <header>
            <DesktopHero
              brand={{
                name: siteData.brand.name,
                tagline: siteData.brand.tagline,
                subtitle: siteData.pageFlow.heroP,
                phone: siteData.brand.phone,
                areaChips: siteData.brand.areaChips,
              }}
            />
          </header>

          <main>
            <!-- PAGE PURPOSE (H1): Who + What + Where -->
            <section class="section section-padding" aria-labelledby="home-purpose">
              <h1 id="home-purpose" class="section-title">
                Insurance guidance for commercial, transport & industrial risks in Chennai North
              </h1>
              <p class="section-sub readable">
                Support is coordinated from <strong>Sholavaram</strong>. We commonly assist customers across Chennai North belts and
                corridor-connected areas—transport/fleet, warehouse/property, contractor and personal motor needs—depending on insurer rules and documentation requirements.
              </p>
            </section>
                              <ConversionBlock 
siteData={siteData}
    block={siteData.conversionBlocks.default}
    brand={siteData.brand}
  />

<!-- ✅ NEW: Promo banners (desktop = 3 per row) -->
<section class="section section-padding" aria-labelledby="promo-title">
  <h2 id="promo-title" class="section-title">Quick help by category</h2>
  <p class="section-sub readable">
    Pick a category and open WhatsApp. We’ll reply with the right document checklist + next steps.
    <strong> Chennai & Chennai Outskirts.</strong>
  </p>

  <div class="promo-grid" role="list" aria-label="Category banners">
    {promoBanners.map((b) => (
      <a class="promo-card" role="listitem" href={b.href} target="_blank" rel="noopener" aria-label={b.title}>
        <img class="promo-img" src={b.img} alt={b.alt} loading="lazy" width="300" height="300" />
      </a>
    ))}
  </div>

  <!-- <div class="promo-actions">
    <a class="chiplink" href={promoBanners?.[0]?.href} target="_blank" rel="noopener">WhatsApp for guidance</a>
    <a class="chiplink" href={`tel:${siteData.brand.phoneE164 || ""}`}>Call now</a>
  </div> -->
</section>



            <!-- EARLY: NEAR-ME + GEO CONTEXT -->
            <section class="section section-padding" aria-labelledby="near-me-home">
              <h2 id="near-me-home" class="section-title">Finding insurance support near you (Chennai + NH corridors)</h2>
              <p class="section-sub readable">
                If you searched “insurance near me” around Chennai North, our support is anchored to Sholavaram and commonly extends across
                Red Hills belt, Puzhal connector areas, Madhavaram logistics pockets, and industrial corridors—based on policy type and insurer requirements.
              </p>

              <div class="grid grid-2" style="margin-top:12px;">
                <a class="card" href={EN("/insurance-near-me/")}>
                  <h3 class="card-title">Insurance near me</h3>
                  <p class="card-desc readable">How local support works + what documents to share first.</p>
                </a>
                <a class="card" href={EN("/locations/")}>
                  <h3 class="card-title">Locations we serve</h3>
                  <p class="card-desc readable">Belts and areas we commonly support from Sholavaram.</p>
                </a>
              </div>

              <ul class="chiplist" role="list" aria-label="Common base areas" style="margin-top:12px;">
                <li class="chipli"><a class="chiplink" href={EN("/locations/sholavaram/")}>Sholavaram</a></li>
                <li class="chipli"><a class="chiplink" href={EN("/locations/red-hills/")}>Red Hills</a></li>
                <li class="chipli"><a class="chiplink" href={EN("/locations/puzhal/")}>Puzhal</a></li>
                <li class="chipli"><a class="chiplink" href={EN("/locations/madhavaram/")}>Madhavaram</a></li>
              </ul>
            </section>

            <!-- EARLY: LOCATION × SERVICE COMBINATIONS (HIGH VALUE LINKS) -->
            <section class="section section-padding" aria-labelledby="combo-title">
              <h2 id="combo-title" class="section-title">Common searches (area + service)</h2>
              <p class="section-sub readable">
                These are the combinations people most often need in Chennai North belts and industrial corridors.
                Each link opens either a local guide (area context) or the detailed service page (coverage + documents).
              </p>

              <div class="grid grid-2">
                {areaServiceCombos.map((c) => (
                  <article class="card" aria-label={c.title}>
                    <h3 class="card-title">{c.title}</h3>
                    <p class="card-desc readable">{c.desc}</p>

                    <div class="card-row" style="margin-top:10px; flex-wrap:wrap;">
                      <a class="chiplink" href={c.primary.href}>{c.primary.label}</a>
                      {c.secondary.map((s) => (
                        <a class="chiplink" href={s.href}>{s.label}</a>
                      ))}
                    </div>
                  </article>
                ))}
              </div>
            </section>
                  <ConversionBlock 
                  siteData={siteData}
    variant="commercial"
  />            

            <!-- QUICK HELP: keep early for conversions -->
            <section class="section section-padding" aria-label="Quick help">
              <QuickHelpLinks pageType="home" />
            </section>

            <section class="section section-padding" aria-labelledby="who-title">
              <h2 id="who-title" class="section-title">{siteData.primaryIndustries.title}</h2>
              <p class="section-sub">{siteData.primaryIndustries.subtitle}</p>
              <div class="grid grid-2">
                {siteData.primaryIndustries.items.map((it) => (
                  <article class="card" aria-label={it.title}>
                    <h3 class="card-title">{it.title}</h3>
                    <p class="card-desc">{it.desc}</p>
                  </article>
                ))}
              </div>
            </section>

            <section class="section section-padding" aria-labelledby="risk-title">
              <h2 id="risk-title" class="section-title">{siteData.localRiskContext.title}</h2>
              <p class="section-sub">{siteData.localRiskContext.subtitle}</p>
              <ul class="bullets">{siteData.localRiskContext.points.map((p) => <li>{p}</li>)}</ul>
            </section>

            <section class="section section-padding" aria-labelledby="claimsxp-title">
              <h2 id="claimsxp-title" class="section-title">{siteData.claimExperience.title}</h2>
              <p class="section-sub">{siteData.claimExperience.subtitle}</p>
              <ul class="bullets">{siteData.claimExperience.points.map((p) => <li>{p}</li>)}</ul>
            </section>

            <!-- Services: category authority first -->
            <section class="section section-padding" aria-labelledby="svc-cat-title">
              <h2 id="svc-cat-title" class="section-title">Insurance categories we support</h2>
              <p class="section-sub readable">
                Start with a category. Then open the specific service page for decision-level guidance.
              </p>
              <DesktopCoreServices services={serviceCategoryCards} />
            </section>

            <!-- Popular service detail pages -->
            <section class="section section-padding" aria-labelledby="svc-pop-title">
              <h2 id="svc-pop-title" class="section-title">Most requested services</h2>
              <div class="grid grid-2">
                {popularServices.slice(0, 8).map((x) => (
                  <a class="card" href={x.href}>
                    <div class="card-row"><span class="chip">{x.tag}</span></div>
                    <h3 class="card-title">{x.title}</h3>
                    <p class="card-desc readable" title={x.desc || "Open guidance"}>{x.desc || "Open guidance"}</p>
                  </a>
                ))}
              </div>
            </section>

            <!-- Locations entry-point (do NOT list 16+ as cards; keep curated) -->
            <section class="section section-padding" aria-labelledby="loc-title">
              <h2 id="loc-title" class="section-title">Coverage areas (Sholavaram base + Chennai-wide support)</h2>
              <p class="section-sub readable">
                Our local office support is anchored in <strong>Sholavaram</strong>. We commonly assist customers across
                <strong>Chennai North, NH belts, and corridor-connected industrial zones</strong>—including Red Hills, Puzhal,
                Madhavaram, Manali, Ambattur/Avadi side belts, Thiruvallur corridors, and nearby areas—based on the policy type,
                insurer rules, and documentation requirements.
              </p>

              <div class="grid grid-2" style="margin-top:12px;">
                <a class="card" href={EN("/locations/")}>
                  <h3 class="card-title">View all locations</h3>
                  <p class="card-desc readable">NH belts, logistics hubs, industrial corridors, and city-side areas.</p>
                </a>

                <a class="card" href={EN("/insurance-near-me/")}>
                  <h3 class="card-title">Insurance near me</h3>
                  <p class="card-desc readable">Visit vs WhatsApp/phone, document checklists, insurer inspection rules.</p>
                </a>
              </div>

              <div class="grid grid-2" style="margin-top:12px;">
                {featuredLocations.map((l) => (
                  <a class="card" href={EN(`/locations/${l.slug}/`)}>
                    <h3 class="card-title">{l.name}</h3>
                    <p class="card-desc readable">Local context + services commonly used here</p>
                  </a>
                ))}
              </div>
            </section>

            <GooglePostsPhotosSection
              title={siteData.media.googlePosts.title}
              subtitle={siteData.media.googlePosts.subtitle}
              images={siteData.media.googlePosts.images}
              ctaLabel="Photos"
              ctaHref={EN("/photos/")}
            />

            <section class="section section-padding" aria-label="Quick links">
              <div class="grid grid-2">
                <a class="card" href={EN("/services/")}>
                  <h3 class="card-title">All Services</h3>
                  <p class="card-desc">Service hub → categories → detail pages</p>
                </a>
                <a class="card" href={EN("/faqs/")}>
                  <h3 class="card-title">FAQs</h3>
                  <p class="card-desc">Claims, renewals, documents, office and locations</p>
                </a>
                <a class="card" href={EN("/commercial-authority/")}>
                  <h3 class="card-title">Commercial Authority</h3>
                  <p class="card-desc">NH + industrial belt guidance</p>
                </a>
                <a class="card" href={EN("/renewals/")}>
                  <h3 class="card-title">Renewals</h3>
                  <p class="card-desc">Car/lorry/LIC continuity checklists</p>
                </a>
              </div>
            </section>

            <section class="section" aria-labelledby="authority-title">
              <h2 id="authority-title" class="sr-only">Industry-focused guidance</h2>
              <BlogSection
                title={commercialAuthorityPosts.title}
                subtitle={commercialAuthorityPosts.subtitle}
                viewAllHref={commercialAuthorityPosts.viewAllHref}
                viewMoreHref={commercialAuthorityPosts.viewMoreHref}
                categories={commercialAuthorityPosts.categories}
              />
            </section>

            <CoverageIndexSection data={siteData.coverageIndex} />

            <section class="section" aria-labelledby="proof-title">
              <h2 id="proof-title" class="sr-only">Proof & experience</h2>
              <BlogSection
                title={proofExperiencePosts.title}
                subtitle={proofExperiencePosts.subtitle}
                viewAllHref={proofExperiencePosts.viewAllHref}
                viewMoreHref={proofExperiencePosts.viewMoreHref}
                items={proofExperiencePosts.items}
                showSaveButton={false}
              />
            </section>

            <section class="section" aria-labelledby="renew-title">
              <h2 id="renew-title" class="sr-only">Renewal support</h2>
              <BlogSection
                title={renewalLicPosts.title}
                subtitle={renewalLicPosts.subtitle}
                viewAllHref={renewalLicPosts.viewAllHref}
                viewMoreHref={renewalLicPosts.viewMoreHref}
                items={renewalLicPosts.items}
                showSaveButton={false}
              />
            </section>

            <section class="section" aria-labelledby="insights-title">
              <h2 id="insights-title" class="sr-only">Insights</h2>
              <BlogSection
                title={insights.title}
                subtitle={insights.subtitle}
                viewAllHref={insights.viewAllHref}
                viewMoreHref={insights.viewMoreHref}
                items={insights.items}
                showSaveButton={false}
              />
            </section>

            <section class="section section-padding" aria-labelledby="how-it-works-title">
              <h2 id="how-it-works-title" class="section-title">How you’ll get help</h2>
              <div class="section-sub">Coverage clarity → documentation discipline → smoother workflows.</div>

              <MobileAccordion
                sections={[
                  ...siteData.howWeHelp,
                  { title: "FAQs (quick)", items: smallHomeFaq.map((f) => ({ strong: f.q, text: f.a })) },
                ]}
                defaultOpen={true}
              />
            </section>

            <LocalIdentitySection brand={siteData.brand} pageTitle="Home" />
            <NearMeTrustSection data={{ nearMeIntent: siteData.nearMeIntent, trustValidation: siteData.trustValidation }} />
            <LinksHubSection data={siteData.linksHub} />
            <BacklinksRow title={siteData.backlinks.title} links={siteData.backlinks.links} />
                  <ConversionBlock 
siteData={siteData}
    block={siteData.conversionBlocks.default}
    brand={siteData.brand}
  />
            <section aria-labelledby="contact-title">
              <h2 id="contact-title" class="sr-only">Contact</h2>
              <FooterCtaBar
                title={siteData.footerCtas.title}
                subtitle={siteData.footerCtas.subtitle}
                whatsappNumber={siteData.brand.whatsappE164}
                whatsappText={siteData.brand.whatsappPrefill}
                callNumber={siteData.brand.phoneE164}
                callLabel={siteData.footerCtas.callLabel}
                brandName={siteData.footerCtas.brandName}
                logoText={siteData.footerCtas.logoText}
                copyright={siteData.footerCtas.copyright}
              />
            </section>
          </main>
        </div>

        <!-- ========================= MOBILE ========================= -->
        <div class="ui-mobile">
          <header>
            <MobileHero
              brand={{
                name: siteData.brand.name,
                tagline: siteData.brand.tagline,
                subtitle: siteData.pageFlow.heroP,
                phone: siteData.brand.phone,
                areaChips: [],
              }}
            />
          </header>

          <main>
            <section class="section section-padding" aria-labelledby="m-home-purpose">
              <h1 id="m-home-purpose" class="section-title">
                Insurance guidance for Chennai North commercial & personal needs
              </h1>
              <p class="section-sub readable">
                Sholavaram office support for NH belts and industrial corridors—transport/fleet, warehouse/property,
                contractors and heavy equipment, plus motor/health/LIC help when needed.
              </p>
            </section>
                              <ConversionBlock 
siteData={siteData}
    block={siteData.conversionBlocks.default}
    brand={siteData.brand}
  />

<!-- ✅ NEW: Promo banners (mobile = horizontal scroll) -->
<section class="section section-padding" aria-labelledby="m-promo-title">
  <h2 id="m-promo-title" class="section-title">Quick help by category</h2>
  <p class="section-sub readable">
    Swipe and tap a banner to open WhatsApp. <strong>Chennai & Chennai Outskirts.</strong>
  </p>

  <div class="promo-swipe" role="list" aria-label="Swipe category banners">
    {promoBanners.map((b) => (
      <a class="promo-swipe-card" role="listitem" href={b.href} target="_blank" rel="noopener" aria-label={b.title}>
        <img class="promo-img" src={b.img} alt={b.alt} loading="lazy" width="300" height="300" />
      </a>
    ))}
  </div>
</section>



            <section class="section section-padding" aria-labelledby="m-near-me-home">
              <h2 id="m-near-me-home" class="section-title">Finding insurance support near you</h2>
              <p class="section-sub readable">
                Anchored to Sholavaram, commonly supporting Red Hills, Puzhal, Madhavaram belts and corridor-connected industrial zones—based on policy type and insurer requirements.
              </p>
              <div class="grid grid-2" style="margin-top:12px;">
                <a class="card" href={EN("/insurance-near-me/")}>
                  <h3 class="card-title">Insurance near me</h3>
                  <p class="card-desc readable">How local support works + documents to share first.</p>
                </a>
                <a class="card" href={EN("/locations/")}>
                  <h3 class="card-title">Locations</h3>
                  <p class="card-desc readable">Belts and areas we commonly support.</p>
                </a>
              </div>
            </section>

            <section class="section section-padding" aria-label="Common searches">
              <h2 class="section-title">Common searches (area + service)</h2>
              <div class="grid grid-1">
                {areaServiceCombos.map((c) => (
                  <article class="card" aria-label={c.title}>
                    <h3 class="card-title">{c.title}</h3>
                    <p class="card-desc readable">{c.desc}</p>
                    <div class="card-row" style="margin-top:10px; flex-wrap:wrap;">
                      <a class="chiplink" href={c.primary.href}>{c.primary.label}</a>
                      {c.secondary.map((s) => (
                        <a class="chiplink" href={s.href}>{s.label}</a>
                      ))}
                    </div>
                  </article>
                ))}
              </div>
            </section>

                              <ConversionBlock 
                              siteData={siteData}
    variant="commercial"
  />

            <section class="section section-padding" aria-label="Quick help">
              <QuickHelpLinks pageType="home" />
            </section>

            <section class="section section-padding">
              <h2 class="section-title">Insurance categories</h2>
              <MobileCoreServices services={serviceCategoryCards} />
            </section>

            <section class="section section-padding">
              <h2 class="section-title">Most requested services</h2>
              <div class="grid grid-1">
                {popularServices.slice(0, 8).map((x) => (
                  <a class="card" href={x.href}>
                    <div class="card-row"><span class="chip">{x.tag}</span></div>
                    <h3 class="card-title">{x.title}</h3>
                    <p class="card-desc readable" title={x.desc || "Open"}>{x.desc || "Open"}</p>
                  </a>
                ))}
              </div>
            </section>

            <section class="section section-padding" aria-label="Locations">
              <h2 class="section-title">Coverage areas</h2>
              <div class="grid grid-1">
                <a class="card" href={EN("/locations/")}>
                  <h3 class="card-title">View all locations</h3>
                  <p class="card-desc readable">NH belts, logistics hubs, industrial corridors, city-side areas.</p>
                </a>
                {featuredLocations.slice(0, 6).map((l) => (
                  <a class="card" href={EN(`/locations/${l.slug}/`)}>
                    <h3 class="card-title">{l.name}</h3>
                    <p class="card-desc readable">Open local guide</p>
                  </a>
                ))}
              </div>
            </section>

            <CoverageIndexSection data={siteData.coverageIndex} />

            <section class="section section-padding">
              <MobileAccordion
                sections={[
                  ...siteData.howWeHelp,
                  { title: "FAQs (quick)", items: smallHomeFaq.map((f) => ({ strong: f.q, text: f.a })) },
                ]}
                defaultOpen={true}
              />
            </section>

            <LocalIdentitySection brand={siteData.brand} pageTitle="Home" />
            <NearMeTrustSection data={{ nearMeIntent: siteData.nearMeIntent, trustValidation: siteData.trustValidation }} />
            <LinksHubSection data={siteData.linksHub} />
            <BacklinksRow title={siteData.backlinks.title} links={siteData.backlinks.links} />
                  <ConversionBlock 
siteData={siteData}
    block={siteData.conversionBlocks.default}
    brand={siteData.brand}
  />
            <FooterCtaBar
              title={siteData.footerCtas.title}
              subtitle={siteData.footerCtas.subtitle}
              whatsappNumber={siteData.brand.whatsappE164}
              whatsappText={siteData.brand.whatsappPrefill}
              callNumber={siteData.brand.phoneE164}
              callLabel={siteData.footerCtas.callLabel}
              brandName={siteData.footerCtas.brandName}
              logoText={siteData.footerCtas.logoText}
              copyright={siteData.footerCtas.copyright}
            />
          </main>
        </div>

      </div>
    </main>
    <AssistPopup
  popup={siteData.assistPopups.exit}
  brand={siteData.brand}
  pageType="service"
/>
    <FloatingMenu brand={siteData.brand} />
    <FloatingContactCta brand={siteData.brand} />

    <style>
              @media (min-width: 820px){
   .readable { max-width: 100% !important; }
  }
      .chiplist{list-style:none;padding:0;margin:0;display:flex;flex-wrap:wrap;gap:10px}
      .chipli{margin:0;padding:0}
      .chiplink{
        display:inline-flex;
        align-items:center;
        padding:8px 12px;
        border-radius:999px;
        border:1px solid rgba(255,255,255,.16);
        text-decoration:none;
      }
        /* =========================
   PROMO BANNERS (HOME)
   ========================= */

.promo-head .promo-subnote{
  display:inline-block;
  margin-left: 6px;
  opacity: .85;
  font-weight: 850;
}

/* =========================
   PROMO BANNERS – CRISP 250×250
   ========================= */

.promo-card,
.promo-swipe-card{
  width:300px;
  height:300px;
  border-radius:18px;
  overflow:hidden;
  border:1px solid var(--border);
  background:#000;
  flex-shrink:0;
}

/* Image MUST NOT scale */
.promo-img{
  width:100%;
  height:100%;
  display:block;
  object-fit: contain;
  object-position: center;
  image-rendering: auto;
}

/* =========================
   DESKTOP GRID
   ========================= */

@media (min-width:821px){
  .promo-grid{
    display:grid;
    grid-template-columns: repeat(3, 300px);
    gap:16px;
    justify-content:space-evenly;
  }
}

/* =========================
   MOBILE HORIZONTAL SCROLL
   ========================= */

@media (max-width:820px){
  .promo-grid{ display:none; }

  /* IMPORTANT: allow full card width even inside container padding */
  .promo-swipe{
    display:flex;
    gap:14px;
    overflow-x:auto;
    -webkit-overflow-scrolling:touch;

    /* This prevents children from shrinking */
    flex-wrap: nowrap;

    /* Make sure scroll area can extend wider than container */
    width: calc(100% + 24px);
    margin-left: -12px;
    margin-right: -12px;
    padding-left: 12px;
    padding-right: 12px;
    padding-bottom: 10px;

    scroll-snap-type: x mandatory;
  }

  .promo-swipe::-webkit-scrollbar{ display:none; }

  /* Card must never shrink */
  .promo-swipe-card{
    width:300px;
    height:300px;
    flex: 0 0 300px;   /* ✅ key */
    scroll-snap-align: start;
    border-radius:18px;
    overflow:hidden;
    border:1px solid var(--border);
    background:#000;
  }

  .promo-img{
    width:100%;
    height:100%;
    display:block;
    object-fit: contain;
    object-position: center;
  }
}
.promo-card,
.promo-swipe-card{
  flex-shrink:0; /* ✅ do not allow shrink */
}


/* Hide mobile swipe on desktop */
@media (min-width:821px){
  .promo-swipe{ display:none; }
}
    </style>
  </body>
</html>
